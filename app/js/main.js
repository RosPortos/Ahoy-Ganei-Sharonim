"use strict";function DynamicAdapt(e){this.type=e}document.addEventListener("DOMContentLoaded",(function(){var e;e=$(".promo-item").length,document.querySelector(":root").style.setProperty("--flex",e),$(".promo-item").on("click",(function(){$(this).addClass("promo-item--active").siblings().removeClass("promo-item--active")})),function(){var e,t=document.querySelector(".about-top__video .play-btn"),a=document.querySelector(".about-top-preview"),o=$("#player").attr("data-video-id");function r(){var o=e.getIframe(),r=o.getAttribute("data-video-title");o.setAttribute("title",r),t.addEventListener("click",(function(){e.playVideo(),a.classList.add("hide")}))}function i(e){2==e.data&&a.classList.remove("hide"),0==e.data&&a.classList.remove("hide")}window.YT.ready((function(){e=new YT.Player("player",{height:"360",width:"640",videoId:o,events:{onReady:r,onStateChange:i}})}))}()})),DynamicAdapt.prototype.init=function(){var e=this,t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(var a=0;a<this.nodes.length;a++){var o=this.nodes[a],r=o.dataset.da.trim().split(","),i={};i.element=o,i.parent=o.parentNode,i.destination=document.querySelector(r[0].trim()),i.breakpoint=r[1]?r[1].trim():"767",i.place=r[2]?r[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,a){return Array.prototype.indexOf.call(a,e)===t}));for(var n=function(){var a=e.mediaQueries[l],o=String.prototype.split.call(a,","),r=window.matchMedia(o[0]),i=o[1],n=Array.prototype.filter.call(e.оbjects,(function(e){return e.breakpoint===i}));r.addListener((function(){t.mediaHandler(r,n)})),e.mediaHandler(r,n)},l=0;l<this.mediaQueries.length;l++)n()},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(var a=0;a<t.length;a++){var o=t[a];o.index=this.indexInParent(o.parent,o.element),this.moveTo(o.place,o.element,o.destination)}else for(var r=0;r<t.length;r++){var i=t[r];i.element.classList.contains(this.daClassname)&&this.moveBack(i.parent,i.element,i.index)}},DynamicAdapt.prototype.moveTo=function(e,t,a){t.classList.add(this.daClassname),"last"===e||e>=a.children.length?a.insertAdjacentElement("beforeend",t):"first"!==e?a.children[e].insertAdjacentElement("beforebegin",t):a.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,a){t.classList.remove(this.daClassname),void 0!==e.children[a]?e.children[a].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){var a=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(a,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};var da=new DynamicAdapt("max");function getScrollWidth(){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="0px",e.style.height="0px",document.body.append(e);var t=e.offsetWidth-e.clientWidth;return e.remove(),t}da.init(),$(document).ready((function(){$(".modal").css("display","block"),$(".modal-content").click((function(e){return e.stopPropagation()})),$(".modal").click((function(e){hideModal($(this)),$(".video-modal .modal-video").html('<div id="modal-video-iframe"></div>')})),$(".modal-close, .js-modal-close").click((function(e){e.preventDefault(),hideModal($(this).closest(".modal")),$(".video-modal .modal-video").html('<div id="modal-video-iframe"></div>')})),$("[data-modal]").click((function(e){e.preventDefault(),e.stopPropagation(),hideModal(".modal"),null!=$(this).data("modal-tab")&&goToTab($(this).data("modal-tab")),showModal($(this).data("modal"))})),$("[data-video-modal]").click((function(e){e.preventDefault(),e.stopPropagation();var t=$(this).data("video-modal"),a=$(this).data("video-type");"youtube"==a?($("#modal-video-iframe").removeClass("vimeo youtube").addClass("youtube").append('<div class="video-iframe" id="'+t+'"></div>'),function(e,t){new YT.Player(e,{videoId:t,playerVars:{autohide:1,showinfo:0,rel:0,loop:1,playsinline:1,fs:1,allowsInlineMediaPlayback:!0},events:{onReady:function(e){setTimeout((function(){e.target.playVideo()}),200)}}})}(t,t)):"vimeo"==a?$("#modal-video-iframe").removeClass("vimeo youtube").addClass("vimeo").html('<iframe class="video-iframe" allow="autoplay" src="https://player.vimeo.com/video/'+t+'?playsinline=1&autoplay=1&transparent=1&app_id=122963">'):"mp4"!=a&&"drive"!=a||$("#modal-video-iframe").removeClass("vimeo youtube").addClass("video").html('\n                      <video controls autoplay playisline>\n                          <source src="'.concat(t,'">\n                      </video>   \n                  ')),hideModal(".modal"),showModal("#video-modal")}))}));var bodyScrolled=0;function showModal(e){$(e).addClass("visible"),bodyScrolled=$(window).scrollTop(),$("body").addClass("active").scrollTop(bodyScrolled).css("padding-right",getScrollWidth())}function hideModal(e){$(e).removeClass("visible"),bodyScrolled=$(window).scrollTop(),$("body").removeClass("active").scrollTop(bodyScrolled).css("padding-right",0)}function _createForOfIteratorHelper(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){l=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(l)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var _step,anchors=document.querySelectorAll("a.scroll-to"),_iterator=_createForOfIteratorHelper(anchors);try{var _loop=function(){var e=_step.value;e.addEventListener("click",(function(t){t.preventDefault();var a=e.getAttribute("href");document.querySelector(a).scrollIntoView({behavior:"smooth",block:"start"})}))};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(e){_iterator.e(e)}finally{_iterator.f()}var swiper=new Swiper(".about-list-swiper",{slidesPerView:"auto",speed:800,scrollbar:{el:".swiper-scrollbar",hide:!1,draggable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{991:{slidesPerView:"auto"},300:{slidesPerView:1}}});